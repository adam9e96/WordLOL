<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default}">
<head>
    <title>단어 N개 등록</title>
    <th:block layout:fragment="css">
        <link rel="stylesheet" th:href="@{/css/pages/words/register.css}">
    </th:block>
</head>
<body>
<!-- @todo 현재 유효성 메시지 표시 안되는 문제있음 -->
<main layout:fragment="content" class="registers-grid">
    <div class="content-container fade-in">
        <!-- 헤더 섹션 -->
        <div class="page-header">
            <h2 class="page-title">
                <i class="bi bi-journal-plus"></i>
                단어 N개 등록
            </h2>
            <button class="btn btn-add" id="addRowBtn">
                <i class="bi bi-plus-lg"></i>
                행 추가
            </button>
        </div>

        <!-- 단어 입력 폼 -->
        <form id="wordsForm" class="words-form needs-validation" novalidate>
            <div class="word-table">
                <div id="wordRows" class="word-rows">
                    <!-- 단어 행들이 여기에 동적으로 추가됩니다 -->
                </div>
            </div>

            <!-- 버튼 그룹 -->
            <div class="control-section">
                <button type="button" class="btn btn-cancel" id="cancelBtn">
                    <i class="bi bi-arrow-left"></i>
                    취소
                </button>
                <button type="submit" class="btn btn-add_word" id="saveBtn">
                    <i class="bi bi-save"></i>
                    단어 등록
                </button>
            </div>
        </form>
    </div>

    <!-- 토스트 메시지 -->
    <div class="toast-container">
        <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-body"></div>
        </div>
    </div>

    <!-- 단어 행 템플릿 -->
    <!-- 단어 행 템플릿 -->
    <template id="wordRowTemplate">
        <div class="word-row fade-in">
            <div class="input-group">
                <input type="text" class="form-control vocabulary" placeholder="영단어 입력" required
                       pattern="^[a-zA-Z\s\-]+$"
                       minlength="2"
                       maxlength="100">
                <div class="valid-feedback">
                    <i class="bi bi-check-circle"></i>
                </div>
                <div class="invalid-feedback">
                    영단어는 2자 이상의 영문자만 입력 가능합니다
                </div>
            </div>

            <div class="input-group">
                <input type="text" class="form-control meaning" placeholder="단어 의미 입력" required
                       pattern="^[a-zA-Z가-힣\s,\-\~]+$"
                       minlength="1"
                       maxlength="100">
                <div class="valid-feedback">
                    <i class="bi bi-check-circle"></i>
                </div>
                <div class="invalid-feedback">
                    의미를 입력해주세요
                </div>
            </div>

            <div class="input-group">
                <input type="text" class="form-control hint" placeholder="학습 힌트 입력 (선택사항)" maxlength="100">
                <div class="valid-feedback">
                    <i class="bi bi-check-circle"></i>
                </div>
                <div class="invalid-feedback">
                    힌트는 100자 이하로 입력해주세요
                </div>
            </div>

            <div class="input-group">
                <select class="form-select difficulty" required>
                    <option value="" disabled selected hidden>난이도 선택</option>
                    <option value="1"> 1 (매우 쉬움)</option>
                    <option value="2"> 2 (쉬움)</option>
                    <option value="3"> 3 (보통)</option>
                    <option value="4"> 4 (어려움)</option>
                    <option value="5"> 5 (매우 어려움)</option>
                </select>
                <div class="valid-feedback">
                    <i class="bi bi-check-circle"></i>
                </div>
                <div class="invalid-feedback">
                    난이도를 선택해주세요
                </div>
            </div>

            <button type="button" class="btn-remove" aria-label="행 삭제">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
    </template>
</main>

<th:block layout:fragment="script">
    <script th:src="@{/js/words/register.js}"></script>
</th:block>
</body>
</html>