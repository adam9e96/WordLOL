<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default}">
<head>
    <title>단어장 학습</title>
    <th:block layout:fragment="css">
        <link rel="stylesheet" th:href="@{/css/pages/wordbook/study.css}">
    </th:block>
</head>
<body>
<main layout:fragment="content" class="study-grid">
    <div class="content-container">
        <!-- 상태 섹션 -->
        <div class="status-section">
            <div class="progress-info">
                <i class="bi bi-book-half"></i>
                <div class="info-content">
                    <span class="info-label">진행</span>
                    <span class="info-value" id="progress">0 / 0</span>
                </div>
            </div>
            <div class="streak-info">
                <i class="bi bi-lightning-charge-fill"></i>
                <div class="info-content">
                    <span class="info-label">연속 정답</span>
                    <span class="info-value" id="perfectRun">0</span>
                </div>
            </div>
            <div class="mode-section">
                <div class="repeat-toggle">
                    <label class="toggle-switch" for="repeatMode">
                        <input type="checkbox" id="repeatMode" hidden>
                        <span class="toggle-slider"></span>
                        <span class="toggle-label">반복 학습</span>
                    </label>
                </div>
                <div class="difficulty" id="difficulty"></div>
            </div>
        </div>

        <!-- 단어 카드 섹션 -->
        <div class="word-card-container">
            <div class="word-card" id="card">
                <div class="card-side card-front">
                    <div class="word-content">
                        <!-- 단어 카드 -->
                        <div class="vocabulary-section">
                            <span id="vocabulary">로딩중...</span>
                            <button class="btn-speak" title="발음 듣기">
                                <i class="bi bi-volume-up"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card-side card-back">
                    <div class="word-content">
                        <div class="meaning" id="meaning"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 메시지 섹션 -->
        <div class="message-section" id="message"></div>

        <!-- 입력 섹션 -->
        <div class="input-section">
            <div class="input-group">
                <input type="text"
                       id="answer"
                       placeholder="정답을 입력하세요"
                       autocomplete="off"
                       autofocus>
                <button class="btn btn-primary">
                    <i class="bi bi-check-lg"></i>
                    <span>확인</span>
                </button>
            </div>
        </div>

        <!-- 컨트롤 섹션 -->
        <div class="control-section">
            <button class="btn btn-surface">
                <i class="bi bi-arrow-left"></i>
                <span>이전</span>
            </button>
            <button class="btn btn-surface">
                <i class="bi bi-lightbulb"></i>
                <span>힌트</span>
            </button>
            <button class="btn btn-surface">
                <i class="bi bi-arrow-right"></i>
                <span>다음</span>
            </button>
        </div>
    </div>
</main>

<th:block layout:fragment="script">
    <script th:inline="javascript">
        const wordBookId = [[${wordBookId}]];
    </script>
    <script th:src="@{/js/wordbook/study.js}"></script>
</th:block>
</body>
</html>